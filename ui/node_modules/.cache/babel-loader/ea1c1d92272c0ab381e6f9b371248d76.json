{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nagua\\\\Documents\\\\workouts\\\\rta\\\\src\\\\ui\\\\src\\\\components\\\\users\\\\approveusers.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport * as Constants from '../../constants';\nimport { Row, Col, Jumbotron, Table, Button, Alert, Badge, Spinner } from 'react-bootstrap';\n\nclass ApproveUsers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      loading: null\n    };\n  }\n\n  componentDidMount() {\n    this.getApprovalData();\n  }\n\n  handleApprove(user) {\n    this.props.role.toString().toLowerCase() === Constants.SUPER ? user.Status = Constants.ACTIVE : user.Status = Constants.APPROVEUSER;\n    var requrl = Constants.API_URL + \"Api/UserInfo/approvedeny/\" + this.props.role + \"/\" + user.UserId;\n    setTimeout(() => {\n      axios({\n        method: \"put\",\n        url: requrl,\n        data: user,\n        param: null\n      }).then(resp => {\n        this.getApprovalData();\n      }).catch(error => {\n        console.log(error);\n      });\n    }, 1000);\n  }\n\n  handleDeny(user) {\n    user.Status = Constants.INACTIVE;\n    var requrl = Constants.API_URL + \"Api/UserInfo/approvedeny/\" + this.props.role + \"/\" + user.UserId;\n    setTimeout(() => {\n      axios({\n        method: \"put\",\n        url: requrl,\n        data: user,\n        param: null\n      }).then(resp => {\n        this.getApprovalData();\n      }).catch(error => {\n        console.log(error);\n      });\n    }, 1000);\n  }\n\n  getApprovalData() {\n    var reqparam = {\n      userrole: this.props.role\n    };\n    var requrl = Constants.API_URL + \"Api/UserInfo/approvalusers/\" + this.props.role;\n    setTimeout(() => {\n      axios({\n        method: \"get\",\n        url: requrl,\n        data: null,\n        param: reqparam\n      }).then(resp => {\n        this.setState({\n          users: resp.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }, 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"Approve Now\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Jumbotron, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, this.state.users.length > 0 ? /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 37\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, \"Mobile\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    }, \"User Role\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, this.state.users.map((item, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 49\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 49\n      }\n    }, item.FirstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 49\n      }\n    }, item.LastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 49\n      }\n    }, item.Email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 49\n      }\n    }, item.Mobile), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 49\n      }\n    }, item.Status === Constants.NEWUSER ? /*#__PURE__*/React.createElement(Badge, {\n      variant: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 53\n      }\n    }, \"New User\") : item.Status === Constants.APPROVEUSER ? /*#__PURE__*/React.createElement(Badge, {\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 53\n      }\n    }, \"Pending\") : /*#__PURE__*/React.createElement(Badge, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 53\n      }\n    }, \"Active\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 49\n      }\n    }, item.UserRole.toString().toLowerCase() === Constants.SUPER ? /*#__PURE__*/React.createElement(Badge, {\n      variant: \"warning\",\n      pill: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 53\n      }\n    }, \"Super\") : item.UserRole.toString().toLowerCase() === Constants.ADMIN ? /*#__PURE__*/React.createElement(Badge, {\n      variant: \"success\",\n      pill: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 53\n      }\n    }, \"Admin\") : /*#__PURE__*/React.createElement(Badge, {\n      variant: \"primary\",\n      pill: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 53\n      }\n    }, \"Normal\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 49\n      }\n    }, this.state.loading !== null && this.state.loading ? /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      as: \"span\",\n      animation: \"border\",\n      size: \"sm\",\n      role: \"status\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 65\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 65\n      }\n    }, \"Loading...\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleApprove(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 53\n      }\n    }, \"Approve\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: () => this.handleDeny(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 53\n      }\n    }, \"Deny\")))))) : /*#__PURE__*/React.createElement(Alert, {\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }, \"All users are approved!\")))));\n  }\n\n}\n\nexport default ApproveUsers;","map":{"version":3,"sources":["C:/Users/nagua/Documents/workouts/rta/src/ui/src/components/users/approveusers.js"],"names":["React","Component","axios","Constants","Row","Col","Jumbotron","Table","Button","Alert","Badge","Spinner","ApproveUsers","constructor","props","state","users","loading","componentDidMount","getApprovalData","handleApprove","user","role","toString","toLowerCase","SUPER","Status","ACTIVE","APPROVEUSER","requrl","API_URL","UserId","setTimeout","method","url","data","param","then","resp","catch","error","console","log","handleDeny","INACTIVE","reqparam","userrole","setState","render","length","map","item","i","FirstName","LastName","Email","Mobile","NEWUSER","UserRole","ADMIN"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../constants';\r\nimport { Row, Col, Jumbotron, Table, Button, Alert, Badge, Spinner } from 'react-bootstrap';\r\n\r\nclass ApproveUsers extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            loading: null\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getApprovalData();\r\n    }\r\n\r\n    handleApprove(user){\r\n        this.props.role.toString().toLowerCase() === Constants.SUPER ? user.Status = Constants.ACTIVE : user.Status = Constants.APPROVEUSER;\r\n        var requrl =  Constants.API_URL + \"Api/UserInfo/approvedeny/\"+this.props.role+\"/\"+user.UserId;\r\n        setTimeout(() => {\r\n            axios({\r\n                method: \"put\",\r\n                url: requrl,\r\n                data: user,\r\n                param: null\r\n            }).then(resp =>  {\r\n                this.getApprovalData();\r\n            }).catch(error => {\r\n                console.log(error);\r\n                });\r\n        }, 1000);\r\n    }\r\n\r\n    handleDeny(user)\r\n    {\r\n        user.Status = Constants.INACTIVE;\r\n        var requrl =  Constants.API_URL + \"Api/UserInfo/approvedeny/\"+this.props.role+\"/\"+user.UserId;\r\n        setTimeout(() => {\r\n            axios({\r\n                method: \"put\",\r\n                url: requrl,\r\n                data: user,\r\n                param: null\r\n            }).then(resp =>  {\r\n                this.getApprovalData();\r\n            }).catch(error => {\r\n                console.log(error);\r\n                });\r\n        }, 1000);\r\n    }\r\n\r\n    getApprovalData(){\r\n        var reqparam = {userrole: this.props.role};\r\n        var requrl =  Constants.API_URL + \"Api/UserInfo/approvalusers/\"+this.props.role;\r\n        setTimeout(() => {\r\n            axios({\r\n                method: \"get\",\r\n                url: requrl,\r\n                data: null,\r\n                param:reqparam\r\n              }).then(resp =>  {\r\n                this.setState({\r\n                    users : resp.data\r\n                });\r\n              }).catch(error => {\r\n                console.log(error);\r\n              });\r\n        }, 1000)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Row>\r\n                    <Col>\r\n                        <h1>Approve Now</h1>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <Jumbotron>\r\n                        { \r\n                        this.state.users.length > 0 ? \r\n                            <Table striped bordered hover variant=\"dark\">\r\n                                <thead>\r\n                                    <tr>\r\n                                    <th>#</th>\r\n                                    <th>First Name</th>\r\n                                    <th>Last Name</th>\r\n                                    <th>Email</th>\r\n                                    <th>Mobile</th>\r\n                                    <th>Status</th>\r\n                                    <th>User Role</th>\r\n                                    <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        this.state.users.map((item, i) =>\r\n                                            <tr key={i}>\r\n                                                <td>{i+1}</td>\r\n                                                <td>{item.FirstName}</td>\r\n                                                <td>{item.LastName}</td>\r\n                                                <td>{item.Email}</td>\r\n                                                <td>{item.Mobile}</td>\r\n                                                <td>\r\n                                                {\r\n                                                    item.Status === Constants.NEWUSER ?\r\n                                                    <Badge variant=\"warning\">New User</Badge> \r\n                                                    :\r\n                                                    (item.Status === Constants.APPROVEUSER ? \r\n                                                    <Badge variant=\"success\">Pending</Badge>\r\n                                                    :\r\n                                                    <Badge variant=\"primary\">Active</Badge>\r\n                                                    )\r\n                                                }\r\n                                                </td>\r\n                                                <td>\r\n                                                {\r\n                                                    item.UserRole.toString().toLowerCase() === Constants.SUPER ?\r\n                                                    <Badge variant=\"warning\" pill>Super</Badge> \r\n                                                    :\r\n                                                    (item.UserRole.toString().toLowerCase() === Constants.ADMIN ? \r\n                                                    <Badge variant=\"success\" pill>Admin</Badge>\r\n                                                    :\r\n                                                    <Badge variant=\"primary\" pill>Normal</Badge>\r\n                                                    )\r\n                                                }\r\n                                                </td>\r\n                                                <td>\r\n                                                    {\r\n                                                        this.state.loading !== null \r\n                                                        && this.state.loading ?\r\n                                                            <Button variant=\"primary\" disabled>\r\n                                                                <Spinner\r\n                                                                as=\"span\"\r\n                                                                animation=\"border\"\r\n                                                                size=\"sm\"\r\n                                                                role=\"status\"\r\n                                                                aria-hidden=\"true\"\r\n                                                                />\r\n                                                                <span className=\"sr-only\">Loading...</span>\r\n                                                            </Button>\r\n                                                        :\r\n                                                        <div></div>\r\n                                                    }\r\n                                                    <Button variant=\"primary\" onClick={ ()=> this.handleApprove(item)}>Approve</Button>{' '}\r\n                                                    <Button variant=\"danger\" onClick={ ()=> this.handleDeny(item)}>Deny</Button>\r\n                                                </td>\r\n                                            </tr>\r\n                                            )\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                            :\r\n                            <Alert variant=\"success\">\r\n                                All users are approved!\r\n                            </Alert>\r\n                        }\r\n                        </Jumbotron>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ApproveUsers;"]},"metadata":{},"sourceType":"module"}